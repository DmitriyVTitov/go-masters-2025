–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∞—Ç–æ–º–∏–∫–∏) –≤ Go –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–∞–∫–µ—Ç–æ–º `sync/atomic` –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –±–∞–∑–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏ (int, pointer) –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º—å—é—Ç–µ–∫—Å–æ–≤**. –û–Ω–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –≤ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –≥–¥–µ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

## üîπ **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∞—Ç–æ–º–∏–∫–æ–≤**
### 1. **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—á—ë—Ç—á–∏–∫–æ–≤**
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç/–¥–µ–∫—Ä–µ–º–µ–Ω—Ç –±–µ–∑ –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö.
   - –ü—Ä–∏–º–µ—Ä:
     ```go
     var counter int64

     func increment() {
         atomic.AddInt64(&counter, 1) // –ê—Ç–æ–º–∞—Ä–Ω—ã–π +1
     }
     ```

### 2. **–ê—Ç–æ–º–∞—Ä–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —É–∫–∞–∑–∞—Ç–µ–ª—è–º**
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏.
   - –ü—Ä–∏–º–µ—Ä:
     ```go
     var config atomic.Value // –•—Ä–∞–Ω–∏—Ç –ª—é–±–æ–π —Ç–∏–ø

     // –ì–æ—Ä—É—Ç–∏–Ω–∞-–æ–±–Ω–æ–≤–∏—Ç–µ–ª—å
     go func() {
         newConfig := loadNewConfig()
         config.Store(newConfig) // –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å
     }()

     // –ì–æ—Ä—É—Ç–∏–Ω–∞-—á–∏—Ç–∞—Ç–µ–ª—å
     go func() {
         cfg := config.Load() // –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
         fmt.Println(cfg)
     }()
     ```

### 3. **–§–ª–∞–≥–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã**
   - –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
   - –ü—Ä–∏–º–µ—Ä:
     ```go
     var isRunning int32 // 0 = false, 1 = true

     func start() {
         if atomic.CompareAndSwapInt32(&isRunning, 0, 1) {
             fmt.Println("–ó–∞–ø—É—â–µ–Ω–æ!")
         }
     }
     ```

---

## üîπ **–ü–æ—á–µ–º—É –∞—Ç–æ–º–∏–∫–∏ –≤–º–µ—Å—Ç–æ –º—å—é—Ç–µ–∫—Å–æ–≤?**
| –ê—Ç–æ–º–∏–∫–∏                          | –ú—å—é—Ç–µ–∫—Å—ã                          |
|----------------------------------|-----------------------------------|
| –†–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (CAS) | –¢—Ä–µ–±—É—é—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –û–°            |
| –ë—ã—Å—Ç—Ä–µ–µ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π      | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ |
| –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤/—Ñ–ª–∞–≥–æ–≤    | –ù—É–∂–Ω—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä       |

> **CAS (Compare-And-Swap)** ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è ¬´—Å—Ä–∞–≤–Ω–∏—Ç—å –∏ –∑–∞–º–µ–Ω–∏—Ç—å¬ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤ `atomic.CompareAndSwapInt32` –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö.

---

## üîπ **–ü—Ä–∏–º–µ—Ä: —Å—á—ë—Ç—á–∏–∫ —Å –∞—Ç–æ–º–∏–∫–æ–º vs –º—å—é—Ç–µ–∫—Å–æ–º**
### **–° –∞—Ç–æ–º–∏–∫–æ–º (–±—ã—Å—Ç—Ä–µ–µ)**
```go
var atomicCounter int64

func addAtomic() {
    atomic.AddInt64(&atomicCounter, 1)
}
```

### **–° –º—å—é—Ç–µ–∫—Å–æ–º (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)**
```go
var (
    mutexCounter int64
    mu           sync.Mutex
)

func addMutex() {
    mu.Lock()
    mutexCounter++
    mu.Unlock()
}
```

---

## üîπ **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç–æ–º–∏–∫–∏?**
1. **–í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—á—ë—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤).
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤/—Å—Ç–∞—Ç—É—Å–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `isShutdown`).
3. **–†–∞–±–æ—Ç–∞ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞).

---

## üîπ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∞—Ç–æ–º–∏–∫–æ–≤**
- **–¢–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤**: `int32`, `int64`, `uintptr`, `pointer`.
- **–ù–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä**: –î–ª—è `struct` –Ω—É–∂–Ω—ã –º—å—é—Ç–µ–∫—Å—ã –∏–ª–∏ –∫–∞–Ω–∞–ª—ã.
- **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ê—Ç–æ–º–∏–∫–∏ –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –º—å—é—Ç–µ–∫—Å—ã, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.

---

## üîπ **–û–ø–∞—Å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã**
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π**:
   ```go
   atomic.AddInt64(&x, 1)
   fmt.Println(atomic.LoadInt64(&x)) // –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–æ –∏–∑-–∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π CPU.
   ```
   –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞—Ä—å–µ—Ä—ã –ø–∞–º—è—Ç–∏ (`atomic.Store`/`Load`).

2. **–ò–ª–ª—é–∑–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**:
   ```go
   atomic.AddInt64(&x, 1)
   y := x // –ù–ï –∞—Ç–æ–º–∞—Ä–Ω–æ! –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ atomic.Load.
   ```

---

## üîπ **–í—ã–≤–æ–¥**
–ê—Ç–æ–º–∏–∫–∏ –≤ Go ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:
- **–ë—ã—Å—Ç—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** —Å —á–∏—Å–ª–∞–º–∏ –∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏.
- **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** –≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –∫–æ–¥–µ.
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ lock-free –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤**.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Ç–∞–º, –≥–¥–µ –º—å—é—Ç–µ–∫—Å—ã –±—ã–ª–∏ –±—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã, –Ω–æ –ø–æ–º–Ω–∏—Ç–µ –ø—Ä–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è! ‚ö°